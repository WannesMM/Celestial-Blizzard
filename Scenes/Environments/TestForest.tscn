[gd_scene load_steps=37 format=3 uid="uid://bo4v1ml3uldiv"]

[ext_resource type="Script" path="res://Code/Engine/Environment.gd" id="1_30yqb"]
[ext_resource type="Texture2D" uid="uid://toapyjjgal4y" path="res://assets/Material/snow_01_1k/snow_01_color_1k.png" id="2_nsohm"]
[ext_resource type="Texture2D" uid="uid://cu0wwu5oes8wl" path="res://assets/Material/snow_01_1k/snow_01_ambient_occlusion_1k.png" id="3_rnxtf"]
[ext_resource type="Texture2D" uid="uid://cg81ykdty8wpf" path="res://assets/Material/snow_01_1k/snow_01_height_1k.png" id="4_turno"]
[ext_resource type="Texture2D" uid="uid://y657xuirsy0u" path="res://assets/Material/snow_01_1k/snow_01_normal_gl_1k.png" id="5_1dpiu"]
[ext_resource type="Texture2D" uid="uid://bw6cpklcb6b6e" path="res://assets/Material/snow_01_1k/snow_01_roughness_1k.png" id="6_f5rl0"]
[ext_resource type="Texture2D" uid="uid://bfrd42je8v5nw" path="res://assets/Material/snow_01_1k/snow_01_normal_dx_1k.png" id="7_t3fwe"]
[ext_resource type="ArrayMesh" uid="uid://cmypyfpetxan6" path="res://assets/3d/Snowfield2.obj" id="8_dhvwa"]
[ext_resource type="Texture2D" uid="uid://dyjfrg4rp44b5" path="res://assets/Material/AllSky_Night_MoonBurst Equirect.png" id="9_5qwus"]
[ext_resource type="Script" path="res://Code/Engine/World.gd" id="10_qv3p4"]
[ext_resource type="Script" path="res://Code/Engine/DirectionalLight.gd" id="11_e31nu"]
[ext_resource type="Shader" path="res://Assets/Shader/Vegetation.gdshader" id="12_78ql4"]
[ext_resource type="Texture2D" uid="uid://dhiwv8ut7u3rb" path="res://assets/Setpieces/Trees/Tree1.png" id="13_ltg5w"]
[ext_resource type="Texture2D" uid="uid://b8jslkb141knd" path="res://assets/Setpieces/Fog.png" id="19_wa6v7"]
[ext_resource type="Texture2D" uid="uid://dybj0swdibv4f" path="res://assets/Animated/CharacterHit/HitShatter.png" id="20_7fsrw"]
[ext_resource type="Texture2D" uid="uid://bvrqbcg7er3x6" path="res://assets/Setpieces/full moon.png" id="21_1fcx3"]
[ext_resource type="Texture2D" uid="uid://btvbhgtutqkl3" path="res://assets/Setpieces/Mountain backdrop.png" id="22_r426b"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6e80u"]
albedo_color = Color(0.570313, 0.570313, 0.570313, 1)
albedo_texture = ExtResource("2_nsohm")
roughness = 0.16
roughness_texture = ExtResource("6_f5rl0")
normal_enabled = true
normal_scale = 2.3
normal_texture = ExtResource("5_1dpiu")
ao_enabled = true
ao_light_affect = 0.55
ao_texture = ExtResource("3_rnxtf")
heightmap_enabled = true
heightmap_scale = 2.0
heightmap_texture = ExtResource("4_turno")
uv1_scale = Vector3(10.6, 10.6, 10.6)

[sub_resource type="PlaneMesh" id="PlaneMesh_au85o"]
material = SubResource("StandardMaterial3D_6e80u")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vtxuh"]
albedo_color = Color(0.28, 0.28, 0.28, 1)
albedo_texture = ExtResource("2_nsohm")
metallic_specular = 0.35
roughness = 0.83
roughness_texture = ExtResource("6_f5rl0")
normal_enabled = true
normal_scale = 0.31
normal_texture = ExtResource("7_t3fwe")
ao_enabled = true
ao_light_affect = 1.0
ao_texture = ExtResource("3_rnxtf")
heightmap_enabled = true
heightmap_scale = 16.0
heightmap_texture = ExtResource("4_turno")
uv1_scale = Vector3(-16.86, -16.86, -16.86)

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_7avfy"]
panorama = ExtResource("9_5qwus")

[sub_resource type="Sky" id="Sky_22i2g"]
sky_material = SubResource("PanoramaSkyMaterial_7avfy")

[sub_resource type="Environment" id="Environment_tyf6g"]
background_mode = 2
sky = SubResource("Sky_22i2g")
sky_rotation = Vector3(-0.216421, 3.2498, 0)
ambient_light_sky_contribution = 0.0
ambient_light_energy = 0.0
reflected_light_source = 2
glow_enabled = true
glow_levels/1 = 6.54
glow_levels/2 = 5.51
glow_levels/3 = 0.0
glow_levels/5 = 0.0
glow_levels/7 = 0.41
glow_intensity = 8.0
glow_strength = 2.0
glow_bloom = 0.16
glow_hdr_threshold = 0.15
glow_hdr_scale = 1.23
fog_enabled = true
fog_light_color = Color(0.0495, 0.0696667, 0.11, 1)
fog_light_energy = 3.6
fog_sun_scatter = 0.21
fog_density = 0.0126
fog_aerial_perspective = 0.091
fog_height = 335.15
adjustment_enabled = true

[sub_resource type="ArrayMesh" id="ArrayMesh_0g6pc"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_a4t8k"]
render_priority = 0
shader = ExtResource("12_78ql4")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mgh4t"]
transparency = 1
albedo_texture = ExtResource("19_wa6v7")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b2ein"]
transparency = 1
albedo_color = Color(1, 1, 1, 0.396078)
albedo_texture = ExtResource("20_7fsrw")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cbu1j"]
transparency = 1
disable_fog = true
albedo_texture = ExtResource("21_1fcx3")

[sub_resource type="Curve" id="Curve_cmvqk"]
_data = [Vector2(0, 0.402756), 0.0, 0.0, 0, 0, Vector2(0.390335, 0.721286), 0.0, 0.0, 0, 0, Vector2(0.565056, 0.502297), 0.0, 0.0, 0, 0, Vector2(0.732342, 0.980092), 0.0, 0.0, 0, 0, Vector2(1, 0.372894), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="CurveTexture" id="CurveTexture_43pak"]
curve = SubResource("Curve_cmvqk")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ruu40"]
emission_shape_scale = Vector3(4, 4, 0)
emission_shape = 3
emission_box_extents = Vector3(1, 1, 1)
angle_min = -362.0
angle_max = 358.0
inherit_velocity_ratio = 0.017
spread = 180.0
gravity = Vector3(-0.04, -0.075, 0)
linear_accel_min = -2.23517e-06
linear_accel_max = 1.09
tangential_accel_min = -2.23517e-06
tangential_accel_max = 0.0499978
scale_min = 0.25
scale_max = 0.5
scale_curve = SubResource("CurveTexture_43pak")

[sub_resource type="Gradient" id="Gradient_gakk8"]
colors = PackedColorArray(1, 1, 1, 0.745098, 0, 0, 0, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_0p4iw"]
gradient = SubResource("Gradient_gakk8")
fill = 1
fill_from = Vector2(0.502674, 0.508021)
fill_to = Vector2(0.508021, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2j4uh"]
transparency = 2
alpha_scissor_threshold = 0.635
alpha_antialiasing_mode = 0
shading_mode = 0
albedo_texture = SubResource("GradientTexture2D_0p4iw")

[sub_resource type="PlaneMesh" id="PlaneMesh_3nmxp"]
material = SubResource("StandardMaterial3D_2j4uh")
size = Vector2(0.15, 0.15)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_gunfh"]
transparency = 1
disable_ambient_light = true
disable_fog = true
albedo_color = Color(0.061875, 0.0894375, 0.140625, 1)
albedo_texture = ExtResource("22_r426b")

[node name="Environment" type="Node3D"]
script = ExtResource("1_30yqb")
baseCameraPosition = Vector3(0, 6.502, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(99.755, 0, 0, 0, 99.755, 0, 0, 0, 99.755, 0, 0.237599, -16.027)
visible = false
layers = 2
mesh = SubResource("PlaneMesh_au85o")

[node name="Snowfield2" type="MeshInstance3D" parent="."]
material_override = SubResource("StandardMaterial3D_vtxuh")
mesh = ExtResource("8_dhvwa")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_tyf6g")
script = ExtResource("10_qv3p4")
rotateS = true

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.861097, 0.508441, 0, -0.508441, -0.861097, 0, 9.73619, 0)
layers = 0
light_color = Color(0.320078, 0.58932, 0.941406, 1)
light_bake_mode = 1
light_cull_mask = 4293918721
shadow_enabled = true
shadow_bias = 0.0
shadow_blur = 0.633
script = ExtResource("11_e31nu")
idle = true

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
mesh = SubResource("ArrayMesh_0g6pc")

[node name="Sprite3D7" type="Sprite3D" parent="."]
transform = Transform3D(1.33499, 0.0264551, -0.649846, -0.133484, 1.46333, -0.214649, 0.636543, 0.251381, 1.3179, 10.2342, 6.1548, -38.73)
material_override = SubResource("ShaderMaterial_a4t8k")
texture = ExtResource("13_ltg5w")

[node name="Fog" type="Node3D" parent="."]
transform = Transform3D(2.245, 0, 0, 0, 2.245, 0, 0, 0, 2.245, 0, 18.6166, -32.2011)
visible = false

[node name="Sprite3D" type="Sprite3D" parent="Fog"]
transform = Transform3D(0.999429, 0.0337831, 0, -0.0337831, 0.999429, 0, 0, 0, 1, 0, 3.16702, -6.5727)
material_override = SubResource("StandardMaterial3D_mgh4t")
texture = ExtResource("19_wa6v7")

[node name="Sprite3D2" type="Sprite3D" parent="Fog"]
transform = Transform3D(-0.999186, -0.040341, 0, 0.040341, -0.999186, 0, 0, 0, 1, -0.332193, -5.77736, -6.5727)
material_override = SubResource("StandardMaterial3D_mgh4t")
texture = ExtResource("19_wa6v7")

[node name="Fog2" type="Node3D" parent="."]
transform = Transform3D(1.36661, 0, 1.78113, 0, 2.245, 0, -1.78113, 0, 1.36661, -17.1278, 17.3942, -25.8281)
visible = false

[node name="Sprite3D" type="Sprite3D" parent="Fog2"]
transform = Transform3D(0.999429, 0.0337831, 0, -0.0337831, 0.999429, 0, 0, 0, 1, 0, 3.16702, -6.5727)
material_override = SubResource("StandardMaterial3D_mgh4t")
texture = ExtResource("19_wa6v7")

[node name="Sprite3D2" type="Sprite3D" parent="Fog2"]
transform = Transform3D(-0.999186, -0.040341, 0, 0.040341, -0.999186, 0, 0, 0, 1, -0.332193, -5.77736, -6.5727)
material_override = SubResource("StandardMaterial3D_mgh4t")
texture = ExtResource("19_wa6v7")

[node name="Fog3" type="Node3D" parent="."]
transform = Transform3D(1.76277, 0, -1.3902, 0, 2.245, 0, 1.3902, 0, 1.76277, 22.7179, 16.9927, -23.8571)
visible = false

[node name="Sprite3D" type="Sprite3D" parent="Fog3"]
transform = Transform3D(0.999429, 0.0337831, 0, -0.0337831, 0.999429, 0, 0, 0, 1, 0, 3.16702, -6.5727)
material_override = SubResource("StandardMaterial3D_mgh4t")
texture = ExtResource("19_wa6v7")

[node name="Sprite3D2" type="Sprite3D" parent="Fog3"]
transform = Transform3D(-0.999186, -0.040341, 0, 0.040341, -0.999186, 0, 0, 0, 1, -0.332193, -5.77736, -6.5727)
material_override = SubResource("StandardMaterial3D_mgh4t")
texture = ExtResource("19_wa6v7")

[node name="Sprite3D2" type="Sprite3D" parent="."]
transform = Transform3D(163.559, 0, -4.41436, 0, 163.619, 0, 4.41436, 0, 163.559, 6.703, 46.25, -175.735)
visible = false
material_override = SubResource("StandardMaterial3D_b2ein")
texture = ExtResource("20_7fsrw")

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(15.22, 0, 0, 0, 15.22, 0, 0, 0, 15.22, 14.8471, 70.4825, -114.34)
layers = 2
material_override = SubResource("StandardMaterial3D_cbu1j")
billboard = 2
texture = ExtResource("21_1fcx3")

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.922065, -0.387032, 0, 0.387032, -0.922065, 0, 6.475, -0.906731)
amount = 4000
lifetime = 10.0
trail_lifetime = 3.1
process_material = SubResource("ParticleProcessMaterial_ruu40")
draw_pass_1 = SubResource("PlaneMesh_3nmxp")

[node name="Sprite3D3" type="Sprite3D" parent="."]
transform = Transform3D(57.33, 0, 0, 0, 57.33, 0, 0, 0, 57.33, 14.4799, 27.0418, -55.4692)
layers = 2
material_override = SubResource("StandardMaterial3D_gunfh")
cast_shadow = 0
texture = ExtResource("22_r426b")

[node name="Layer2Light" type="DirectionalLight3D" parent="."]
layers = 0
light_color = Color(0.557813, 0.702188, 0.820313, 1)
light_energy = 3.485
light_indirect_energy = 0.707
light_bake_mode = 1
light_cull_mask = 4294443010
